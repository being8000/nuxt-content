import h from"./PageTocList.a61c4de4.js";import{J as k,q as u,K as v,s as B,H as L,o as y,b as T,u as _,c as E,m as b,h as q}from"./entry.c5f8fede.js";const C={class:"px-8",id:"_app-page-toc-left-side"},H=q("h5",{class:"text-slate-900 font-semibold mb-4 text-sm leading-6 dark:text-slate-100"},"On this page",-1),N={__name:"PageToc",setup(I){const{toc:a}=k(),f=u(null),c=u([]);v();const r=e=>{var t=0+document.documentElement.clientHeight;e.links,g(t)},m=(e,t)=>{e.map(n=>{const s=n.id,o=document.getElementById(`${s}`);c.value.push(o),n.children&&n.children.length>0&&m(n.children)})},g=(e,t,n)=>{c.value.map((s,o)=>{const i=s.getBoundingClientRect(),l=document.querySelector("#_app-page-toc-left-side").querySelector(`[href="#${s.getAttribute("id")}"]`),d=-65;if(i.y>d&&i.y<e)l.classList.add("text-primary-500","dark:text-primary-400");else{const p=c.value[o+1],x=p?p.getBoundingClientRect().y:Math.pow(10,10);e<x&&i.y<d?l.classList.add("text-primary-500","dark:text-primary-400"):l.classList.remove("text-primary-500","dark:text-primary-400")}})};return B(()=>{var t;document.querySelector("#content-wrapper");const e=((t=a.value)==null?void 0:t.links)||[];c.value=[],setTimeout(()=>{m(e),r(e),document.getElementById("app-main-content").addEventListener("scroll",r)},30)}),L(()=>{document.getElementById("app-main-content").removeEventListener("scroll",r)}),(e,t)=>{var s,o;const n=h;return y(),T("div",C,[H,(s=_(a))!=null&&s.links?(y(),E(n,{key:0,ref_key:"refToc",ref:f,links:(o=_(a))==null?void 0:o.links},null,8,["links"])):b("",!0)])}}};export{N as default};
