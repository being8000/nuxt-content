export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq){return {data:{"content-query-vmW9Pb72sq":{_path:"\u002Fdeployments\u002Fazure-portal",_draft:q,_partial:q,_locale:"en",_empty:q,title:"Azure Portal",description:r,excerpt:{type:I,children:[{type:a,tag:J,props:{id:K},children:[{type:b,value:L}]},{type:a,tag:c,props:{},children:[{type:b,value:r}]},{type:a,tag:M,props:{},children:[]},{type:a,tag:i,props:{id:s},children:[{type:b,value:t}]},{type:a,tag:N,props:{},children:[{type:a,tag:m,props:{},children:[{type:b,value:O}]},{type:a,tag:m,props:{},children:[{type:b,value:P}]}]},{type:a,tag:i,props:{id:u},children:[{type:b,value:v}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:c,props:{},children:[{type:b,value:R},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:S},{type:a,tag:e,props:{},children:[{type:b,value:n}]},{type:b,value:T},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:U},{type:a,tag:e,props:{},children:[{type:b,value:n}]},{type:b,value:V}]},{type:a,tag:d,props:{code:w},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:w}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:W}]},{type:a,tag:c,props:{},children:[{type:b,value:X}]},{type:a,tag:d,props:{code:x},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:x}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:Y}]},{type:a,tag:d,props:{code:y},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:y}]}]}]},{type:a,tag:c,props:{},children:[{type:a,tag:o,props:{},children:[{type:b,value:Z}]}]},{type:a,tag:c,props:{},children:[{type:b,value:_}]},{type:a,tag:c,props:{},children:[{type:b,value:$}]},{type:a,tag:d,props:{code:z},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:z}]}]}]},{type:a,tag:i,props:{id:A},children:[{type:b,value:B}]},{type:a,tag:c,props:{},children:[{type:b,value:aa}]},{type:a,tag:c,props:{},children:[{type:b,value:ab}]},{type:a,tag:d,props:{code:C},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:C}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:ac}]},{type:a,tag:i,props:{id:D},children:[{type:b,value:E}]},{type:a,tag:c,props:{},children:[{type:b,value:ad},{type:a,tag:e,props:{},children:[{type:b,value:ae}]},{type:b,value:af}]},{type:a,tag:i,props:{id:F},children:[{type:b,value:G}]},{type:a,tag:c,props:{},children:[{type:b,value:ag},{type:a,tag:e,props:{},children:[{type:b,value:ah}]},{type:b,value:ai},{type:a,tag:o,props:{},children:[{type:b,value:aj}]},{type:b,value:ak},{type:a,tag:e,props:{},children:[{type:b,value:al}]},{type:b,value:am},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:an},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:ao},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:ap}]},{type:a,tag:d,props:{code:H,language:aq},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:b,value:H}]}]}]}]},template:"guide",target:"Server",category:"deployment",logo:{light:"\u002Fimg\u002Fcompanies\u002Fsquare\u002Flight\u002FAzure.svg",dark:"\u002Fimg\u002Fcompanies\u002Fsquare\u002Fdark\u002FAzure.svg"},body:{type:I,children:[{type:a,tag:J,props:{id:K},children:[{type:b,value:L}]},{type:a,tag:c,props:{},children:[{type:b,value:r}]},{type:a,tag:M,props:{},children:[]},{type:a,tag:i,props:{id:s},children:[{type:b,value:t}]},{type:a,tag:N,props:{},children:[{type:a,tag:m,props:{},children:[{type:b,value:O}]},{type:a,tag:m,props:{},children:[{type:b,value:P}]}]},{type:a,tag:i,props:{id:u},children:[{type:b,value:v}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:c,props:{},children:[{type:b,value:R},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:S},{type:a,tag:e,props:{},children:[{type:b,value:n}]},{type:b,value:T},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:U},{type:a,tag:e,props:{},children:[{type:b,value:n}]},{type:b,value:V}]},{type:a,tag:d,props:{code:w},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"const express = require('express')\r\nconst consola = require('consola')\r\nconst { loadNuxt } = require('nuxt-start')\r\nconst app = express()\r\n\r\nasync function start () {\r\n  const nuxt = await loadNuxt(isDev ? 'dev' : 'start')\r\n  await nuxt.listen(process.env.PORT, process.env.HOST)\r\n}\r\n\r\nstart()\r"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:W}]},{type:a,tag:c,props:{},children:[{type:b,value:X}]},{type:a,tag:d,props:{code:x},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"import pkg from '.\u002Fpackage'\r\n\r\nexport default {\r\n... config\r\n}"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:Y}]},{type:a,tag:d,props:{code:y},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"module.exports = {\r\n... config\r\n}\r"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:a,tag:o,props:{},children:[{type:b,value:Z}]}]},{type:a,tag:c,props:{},children:[{type:b,value:_}]},{type:a,tag:c,props:{},children:[{type:b,value:$}]},{type:a,tag:d,props:{code:z},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"HOST: '0.0.0.0'\r\nNODE_ENV: 'production'"}]}]}]}]}]},{type:a,tag:i,props:{id:A},children:[{type:b,value:B}]},{type:a,tag:c,props:{},children:[{type:b,value:aa}]},{type:a,tag:c,props:{},children:[{type:b,value:ab}]},{type:a,tag:d,props:{code:C},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"-WEBSITE_NODE_DEFAULT_VERSION 10.16.3"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:ac}]},{type:a,tag:i,props:{id:D},children:[{type:b,value:E}]},{type:a,tag:c,props:{},children:[{type:b,value:ad},{type:a,tag:e,props:{},children:[{type:b,value:ae}]},{type:b,value:af}]},{type:a,tag:i,props:{id:F},children:[{type:b,value:G}]},{type:a,tag:c,props:{},children:[{type:b,value:ag},{type:a,tag:e,props:{},children:[{type:b,value:ah}]},{type:b,value:ai},{type:a,tag:o,props:{},children:[{type:b,value:aj}]},{type:b,value:ak},{type:a,tag:e,props:{},children:[{type:b,value:al}]},{type:b,value:am},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:an},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:ao},{type:a,tag:e,props:{},children:[{type:b,value:k}]},{type:b,value:ap}]},{type:a,tag:d,props:{code:H,language:aq},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:l},children:[{type:a,tag:h,props:{},children:[{type:b,value:"\u003C?xml version=\"1.0\" encoding=\"utf-8\"?\u003E\r\n\u003C!--\r\n     This configuration file is required if iisnode is used to run node processes behind\r\n     IIS or IIS Express.  For more information, visit:\r\n\r\n     https:\u002F\u002Fgithub.com\u002Ftjanczuk\u002Fiisnode\u002Fblob\u002Fmaster\u002Fsrc\u002Fsamples\u002Fconfiguration\u002Fweb.config\r\n--\u003E\r\n\r\n\u003Cconfiguration\u003E\r\n  \u003Csystem.webServer\u003E\r\n    \u003C!-- Visit https:\u002F\u002Fazure.microsoft.com\u002Fen-us\u002Fblog\u002Fintroduction-to-websockets-on-windows-azure-web-sites\u002F for more information on WebSocket support --\u003E\r\n    \u003CwebSocket enabled=\"false\" \u002F\u003E\r\n    \u003Chandlers\u003E\r\n      \u003C!-- Indicates that the server.js file is a Node.js site to be handled by the iisnode module --\u003E\r\n      \u003Cadd name=\"iisnode\" path=\"server\" verb=\"*\" modules=\"iisnode\"\u002F\u003E\r\n    \u003C\u002Fhandlers\u003E\r\n    \u003Crewrite\u003E\r\n      \u003Crules\u003E\r\n        \u003C!-- Do not interfere with requests for node-inspector debugging --\u003E\r\n        \u003Crule name=\"NodeInspector\" patternSyntax=\"ECMAScript\" stopProcessing=\"true\"\u003E\r\n          \u003Cmatch url=\"^server\\\u002Fdebug[\\\u002F]?\" \u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n\r\n        \u003C!-- First we consider whether the incoming URL matches a physical file in the \u002Fpublic folder --\u003E\r\n        \u003Crule name=\"StaticContent\"\u003E\r\n          \u003Caction type=\"Rewrite\" url=\"public{REQUEST_URI}\"\u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n\r\n        \u003C!-- All other URLs are mapped to the Node.js site entry point --\u003E\r\n        \u003Crule name=\"DynamicContent\"\u003E\r\n          \u003Cconditions\u003E\r\n            \u003Cadd input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"True\"\u002F\u003E\r\n          \u003C\u002Fconditions\u003E\r\n          \u003Caction type=\"Rewrite\" url=\"server\"\u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n      \u003C\u002Frules\u003E\r\n    \u003C\u002Frewrite\u003E\r\n\r\n    \u003C!-- 'bin' directory has no special meaning in Node.js and apps can be placed in it --\u003E\r\n    \u003Csecurity\u003E\r\n      \u003CrequestFiltering\u003E\r\n        \u003ChiddenSegments\u003E\r\n          \u003Cremove segment=\"bin\"\u002F\u003E\r\n        \u003C\u002FhiddenSegments\u003E\r\n      \u003C\u002FrequestFiltering\u003E\r\n    \u003C\u002Fsecurity\u003E\r\n\r\n    \u003C!-- Make sure error responses are left untouched --\u003E\r\n    \u003ChttpErrors existingResponse=\"PassThrough\" \u002F\u003E\r\n\r\n    \u003C!--\r\n      You can control how Node is hosted within IIS using the following options:\r\n        * watchedFiles: semi-colon separated list of files that will be watched for changes to restart the server\r\n        * node_env: will be propagated to node as NODE_ENV environment variable\r\n        * debuggingEnabled - controls whether the built-in debugger is enabled\r\n\r\n      See https:\u002F\u002Fgithub.com\u002Ftjanczuk\u002Fiisnode\u002Fblob\u002Fmaster\u002Fsrc\u002Fsamples\u002Fconfiguration\u002Fweb.config for a full list of options\r\n    --\u003E\r\n    \u003C!--\u003Ciisnode watchedFiles=\"web.config;*.js\"\u002F\u003E--\u003E\r\n  \u003C\u002Fsystem.webServer\u003E\r\n\u003C\u002Fconfiguration\u003E"}]}]}]}]}]}],toc:{title:f,searchDepth:j,depth:j,links:[{id:s,depth:j,text:t},{id:u,depth:j,text:v},{id:A,depth:j,text:B},{id:D,depth:j,text:E},{id:F,depth:j,text:G}]}},_type:"markdown",_id:"content:deployments:azure-portal.md",_source:"content",_file:"deployments\u002Fazure-portal.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","p","code","code-inline","","pre","span","h2",2,"server","line","li","index.js","strong","server\u002Findex.js",false,"How to deploy a Nuxt application on Azure Portal?","requirements","Requirements","what-if-i-already-have-a-project-without-a-backend","What if I already have a project without a backend?","const express = require('express')\r\nconst consola = require('consola')\r\nconst { loadNuxt } = require('nuxt-start')\r\nconst app = express()\r\n\r\nasync function start () {\r\n  const nuxt = await loadNuxt(isDev ? 'dev' : 'start')\r\n  await nuxt.listen(process.env.PORT, process.env.HOST)\r\n}\r\n\r\nstart()\r\n\n","import pkg from '.\u002Fpackage'\r\n\r\nexport default {\r\n... config\r\n}\n","module.exports = {\r\n... config\r\n}\r\n\n","HOST: '0.0.0.0'\r\nNODE_ENV: 'production'\n","how-to-set-node-version-on-web-app-in-devops","How to set Node version on Web App in DevOps","-WEBSITE_NODE_DEFAULT_VERSION 10.16.3\n","artifacts","Artifacts","running-the-webserver","Running the webserver","\u003C?xml version=\"1.0\" encoding=\"utf-8\"?\u003E\r\n\u003C!--\r\n     This configuration file is required if iisnode is used to run node processes behind\r\n     IIS or IIS Express.  For more information, visit:\r\n\r\n     https:\u002F\u002Fgithub.com\u002Ftjanczuk\u002Fiisnode\u002Fblob\u002Fmaster\u002Fsrc\u002Fsamples\u002Fconfiguration\u002Fweb.config\r\n--\u003E\r\n\r\n\u003Cconfiguration\u003E\r\n  \u003Csystem.webServer\u003E\r\n    \u003C!-- Visit https:\u002F\u002Fazure.microsoft.com\u002Fen-us\u002Fblog\u002Fintroduction-to-websockets-on-windows-azure-web-sites\u002F for more information on WebSocket support --\u003E\r\n    \u003CwebSocket enabled=\"false\" \u002F\u003E\r\n    \u003Chandlers\u003E\r\n      \u003C!-- Indicates that the server.js file is a Node.js site to be handled by the iisnode module --\u003E\r\n      \u003Cadd name=\"iisnode\" path=\"server\" verb=\"*\" modules=\"iisnode\"\u002F\u003E\r\n    \u003C\u002Fhandlers\u003E\r\n    \u003Crewrite\u003E\r\n      \u003Crules\u003E\r\n        \u003C!-- Do not interfere with requests for node-inspector debugging --\u003E\r\n        \u003Crule name=\"NodeInspector\" patternSyntax=\"ECMAScript\" stopProcessing=\"true\"\u003E\r\n          \u003Cmatch url=\"^server\\\u002Fdebug[\\\u002F]?\" \u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n\r\n        \u003C!-- First we consider whether the incoming URL matches a physical file in the \u002Fpublic folder --\u003E\r\n        \u003Crule name=\"StaticContent\"\u003E\r\n          \u003Caction type=\"Rewrite\" url=\"public{REQUEST_URI}\"\u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n\r\n        \u003C!-- All other URLs are mapped to the Node.js site entry point --\u003E\r\n        \u003Crule name=\"DynamicContent\"\u003E\r\n          \u003Cconditions\u003E\r\n            \u003Cadd input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"True\"\u002F\u003E\r\n          \u003C\u002Fconditions\u003E\r\n          \u003Caction type=\"Rewrite\" url=\"server\"\u002F\u003E\r\n        \u003C\u002Frule\u003E\r\n      \u003C\u002Frules\u003E\r\n    \u003C\u002Frewrite\u003E\r\n\r\n    \u003C!-- 'bin' directory has no special meaning in Node.js and apps can be placed in it --\u003E\r\n    \u003Csecurity\u003E\r\n      \u003CrequestFiltering\u003E\r\n        \u003ChiddenSegments\u003E\r\n          \u003Cremove segment=\"bin\"\u002F\u003E\r\n        \u003C\u002FhiddenSegments\u003E\r\n      \u003C\u002FrequestFiltering\u003E\r\n    \u003C\u002Fsecurity\u003E\r\n\r\n    \u003C!-- Make sure error responses are left untouched --\u003E\r\n    \u003ChttpErrors existingResponse=\"PassThrough\" \u002F\u003E\r\n\r\n    \u003C!--\r\n      You can control how Node is hosted within IIS using the following options:\r\n        * watchedFiles: semi-colon separated list of files that will be watched for changes to restart the server\r\n        * node_env: will be propagated to node as NODE_ENV environment variable\r\n        * debuggingEnabled - controls whether the built-in debugger is enabled\r\n\r\n      See https:\u002F\u002Fgithub.com\u002Ftjanczuk\u002Fiisnode\u002Fblob\u002Fmaster\u002Fsrc\u002Fsamples\u002Fconfiguration\u002Fweb.config for a full list of options\r\n    --\u003E\r\n    \u003C!--\u003Ciisnode watchedFiles=\"web.config;*.js\"\u002F\u003E--\u003E\r\n  \u003C\u002Fsystem.webServer\u003E\r\n\u003C\u002Fconfiguration\u003E\n","root","h1","deploy-nuxt-on-azure-portal","Deploy Nuxt on Azure Portal","hr","ul","It is required that you select a backend when setting up the project. Even if you don't need it, or else the site won't start up.","The server is running Node 8 or greater","No worries. It is easy to add an express server to an existing project.","Create a new folder called "," in the root of the project. Then create an "," file inside the "," folder and paste the following inside the ",":","Then edit your nuxt.config.js:","Before:","After:","Remember to remove the references to the pkg object inside the config.","That's it!","For an Azure App Service deployment, make sure you set the following two environment variables (application settings) in App Service › Settings › Configuration › Application settings.","You can set the Node version on the server, via the App setting inside the \"Deploy Azure Web Service\" task in the release pipeline","Add this to the App settings field under \"Application and Configuration Settings\"","It's recommended to use the LTS version.","If you are using Azure DevOps and let the build pipeline do its work you and want to store artifacts. Files which are prefixed with a ","."," must be moved to the artifact folder explicitly. Then you can create an Artifact Archive and download it afterwards in your Release Deployment.","For Azure Portal you will need a ","web.config"," file. If not supplied, it will create one itself. This one ","won't work for Nuxt"," though. Add a web.config file to your repository. For the latest version of ","Nuxt"," the server file is located at ",". In the web.config you don't specify the exact path "," but just ",". See the example web.config below. If you don't do this the logs will tell you that Vue cannot find any routes.","xml"))