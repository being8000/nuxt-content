[{"_path":"/deployments/folder1/pm2","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"PM2","description":"How to deploy Nuxt with PM2 cluster mode enabled?","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-nuxt-using-pm2"},"children":[{"type":"text","value":"Deploy Nuxt using PM2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to deploy Nuxt with PM2 cluster mode enabled?"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Deploying using "},{"type":"element","tag":"a","props":{"href":"https://pm2.keymetrics.io/","rel":["nofollow"]},"children":[{"type":"text","value":"PM2"}]},{"type":"text","value":" (Process Manager 2) is a fast and easy solution for hosting your universal Nuxt application on your server or VM."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this guide, we build the application locally and serve it through a PM2 config file with the cluster mode activated. Cluster mode will prevent downtime by allowing applications to be scaled across multiple CPUs."}]},{"type":"element","tag":"h2","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting Started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sure you have pm2 installed on your server. If not, simply globally install it from yarn or npm."}]},{"type":"element","tag":"code","props":{"code":"# yarn pm2 install\r\n$ sudo yarn global add pm2 --prefix /usr/local\r\n\r\n# npm pm2 install\r\n$ npm install pm2 -g\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# yarn pm2 install\r\n$ sudo yarn global add pm2 --prefix /usr/local\r\n\r\n# npm pm2 install\r\n$ npm install pm2 -g\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configure-your-application"},"children":[{"type":"text","value":"Configure your application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All you need to add to your universal Nuxt app for serving it though PM2 is a file called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ecosystem.config.js"}]},{"type":"text","value":". Create a new file with that name in your root project directory and add the following content:"}]},{"type":"element","tag":"code","props":{"code":"module.exports = {\r\n  apps: [\r\n    {\r\n      name: 'NuxtAppName',\r\n      exec_mode: 'cluster',\r\n      instances: 'max', // Or a number of instances\r\n      script: './node_modules/nuxt/bin/nuxt.js',\r\n      args: 'start'\r\n    }\r\n  ]\r\n}\n","language":"javascript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"module.exports = {\r\n  apps: [\r\n    {\r\n      name: 'NuxtAppName',\r\n      exec_mode: 'cluster',\r\n      instances: 'max', // Or a number of instances\r\n      script: './node_modules/nuxt/bin/nuxt.js',\r\n      args: 'start'\r\n    }\r\n  ]\r\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-and-serve-the-app"},"children":[{"type":"text","value":"Build and serve the app"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now build your app with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And serve it with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pm2 start"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check the status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pm2 ls"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your Nuxt application is now serving!"}]},{"type":"element","tag":"h2","props":{"id":"further-information"},"children":[{"type":"text","value":"Further Information"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This solution guarantees no downtime for your application on this server. (You should also prevent server failure through redundancy or high availability cloud solutions.)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find PM2 additional configurations "},{"type":"element","tag":"a","props":{"href":"https://pm2.keymetrics.io/docs/usage/application-declaration/#general","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]}]},"template":"guide","target":"Server","category":"deployment","logo":{"light":"/img/companies/square/light/pm2.png","dark":"/img/companies/square/dark/pm2.png"},"_type":"markdown","_id":"content:deployments:folder1:pm2.md","_source":"content","_file":"deployments/folder1/pm2.md","_extension":"md"},{"_path":"/deployments/folder1/stormkitio","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Stormkit.io","description":"How to deploy Nuxt with Stormkit.io?","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-with-stormkit"},"children":[{"type":"text","value":"Deploy with Stormkit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to deploy Nuxt with Stormkit.io?"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Easily build, deploy and scale your Nuxt applications with "},{"type":"element","tag":"a","props":{"href":"https://www.stormkit.io","rel":["nofollow"]},"children":[{"type":"text","value":"Stormkit.io"}]},{"type":"text","value":". It supports instant rollbacks, serverless-side logic, snippet injections, multiple development environments and more..."}]},{"type":"element","tag":"h2","props":{"id":"prerequisites"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This guide assumes you already have a Nuxt project to deploy. If you need a project, use the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/create-nuxt-app","rel":["nofollow"]},"children":[{"type":"text","value":"create-nuxt-app"}]},{"type":"text","value":" to get started or fork Stormkit's "},{"type":"element","tag":"a","props":{"href":"https://github.com/stormkit-dev/hackernews-nuxt","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt Example"}]},{"type":"text","value":" before continuing."}]},{"type":"element","tag":"h2","props":{"id":"setup"},"children":[{"type":"text","value":"Setup"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tag":"a","props":{"href":"https://app.stormkit.io","rel":["nofollow"]},"children":[{"type":"text","value":"app.stormkit.io"}]},{"type":"text","value":" and log in by selecting your git provider."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once logged in, Stormkit will ask you in which provider your codebase is located. Click on the provider once more."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If Github, click on ‘Connect more repositories’ and grant Stormkit access to it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Next, select your repository. This will create the application on Stormkit."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On your application's page, find the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Production"}]},{"type":"text","value":" environment and click on that."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click on edit to configure your application. You will provide the build command and the\r\nenvironment variables in this screen."}]}]},{"type":"element","tag":"h2","props":{"id":"static-websites"},"children":[{"type":"text","value":"Static websites"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You don't have to do anything for static websites. Applications built with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" will be handled out of the box."}]},{"type":"element","tag":"h2","props":{"id":"single-page-applications"},"children":[{"type":"text","value":"Single page applications"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For single page applications, all you have to do is to provide a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stormkit.config.yml"}]},{"type":"text","value":" which redirects\r\nall requests to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.html"}]},{"type":"text","value":". To do so, create a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stormkit.config.yml"}]},{"type":"text","value":" file on the top level of your project and specify the following rule:"}]},{"type":"element","tag":"code","props":{"code":"app:\r\n- redirects:\r\n    - from: /*\r\n      to: /index.html\r\n      assets: false\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"app:\r\n- redirects:\r\n    - from: /*\r\n      to: /index.html\r\n      assets: false\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"hybrid-applications"},"children":[{"type":"text","value":"Hybrid applications"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For hybrid applications, you'll have to turn on the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Serverless"}]},{"type":"text","value":" toggle on the build configuration page. This will tell Stormkit to serve the requests from the lambdas instead of the CDN. You can find more on "},{"type":"element","tag":"a","props":{"href":"https://www.stormkit.io/docs/deployments/configuration/nuxt#hybrid","rel":["nofollow"]},"children":[{"type":"text","value":"this guide"}]},{"type":"text","value":" to configure your hybrid serverless applications."}]},{"type":"element","tag":"h2","props":{"id":"hosting-using-stormkit"},"children":[{"type":"text","value":"Hosting using Stormkit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stormkit generates a unique URL for each deployment. You can preview your application using these links. Later, you can connect your domain and publish any deployment so that the users will start to see that version of your application. You can also do staged-rollouts or A/B testing by publishing multiple versions at the same time."}]},{"type":"element","tag":"h2","props":{"id":"support"},"children":[{"type":"text","value":"Support"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need additional support, you can chat with Stormkit developers and other community members on "},{"type":"element","tag":"a","props":{"href":"https://discord.gg/6yQWhyY","rel":["nofollow"]},"children":[{"type":"text","value":"Discord"}]},{"type":"text","value":"."}]}]},"template":"guide","target":"Static & Server","category":"deployment","logo":{"light":"/img/companies/square/light/Stormkit.svg","dark":"/img/companies/square/dark/Stormkit.svg"},"_type":"markdown","_id":"content:deployments:folder1:stormkitio.md","_source":"content","_file":"deployments/folder1/stormkitio.md","_extension":"md"}]