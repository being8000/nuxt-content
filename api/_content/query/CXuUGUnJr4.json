[{"_path":"/deployments/folder2/cloudflare","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Cloudflare","description":"What needs to be considered when using Nuxt with Cloudflare","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-nuxt-on-cloudflare"},"children":[{"type":"text","value":"Deploy Nuxt on Cloudflare"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"What needs to be considered when using Nuxt with Cloudflare"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In most cases, Nuxt can work with third party content that is not generated or created by Nuxt itself. But sometimes such content can cause problems, especially Cloudflare's \"Minification and Security Options\"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Accordingly, you should make sure that the following options are unchecked / disabled in Cloudflare. Otherwise, unnecessary re-rendering or hydration errors could impact your production application."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Speed > Optimization > Auto Minify: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Uncheck"}]},{"type":"text","value":" JavaScript, CSS and HTML"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Speed > Optimization > "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Disable"}]},{"type":"text","value":" \"Rocket Loader™\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Speed > Optimization > "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Disable"}]},{"type":"text","value":" \"Mirage\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Scrape Shield > "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Disable"}]},{"type":"text","value":" \"Email Address Obfuscation\""}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Scrape Shield > "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Disable"}]},{"type":"text","value":" \"Server-side Excludes\""}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With these settings, you can be sure that Cloudflare won't inject scripts into your Nuxt application that may cause unwanted side effects."}]}]},"template":"guide","category":"deployment","logo":{"light":"/img/companies/square/light/Cloudflare.svg","dark":"/img/companies/square/dark/Cloudflare.svg"},"_type":"markdown","_id":"content:deployments:folder2:cloudflare.md","_source":"content","_file":"deployments/folder2/cloudflare.md","_extension":"md"},{"_path":"/deployments/folder2/dokku","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Dokku","description":"How to deploy a Nuxt application on Dokku?","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-nuxt-on-dokku"},"children":[{"type":"text","value":"Deploy Nuxt on Dokku"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to deploy a Nuxt application on Dokku?"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We recommend to read "},{"type":"element","tag":"a","props":{"href":"http://dokku.viewdocs.io/dokku/getting-started/installation/","rel":["nofollow"]},"children":[{"type":"text","value":"Dokku documentation for the setup"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"http://jakeklassen.com/post/deploying-a-node-app-on-digital-ocean-using-dokku/","rel":["nofollow"]},"children":[{"type":"text","value":"Deploying a Node.js Application on Digital Ocean using Dokku"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the example, we will call our Nuxt application "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"my-nuxt-app"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We need to tell Dokku to install the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"devDependencies"}]},{"type":"text","value":" of the project (to be able to launch "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":"):"}]},{"type":"element","tag":"code","props":{"code":"// on Dokku Server\r\ndokku config:set my-nuxt-app NPM_CONFIG_PRODUCTION=false YARN_PRODUCTION=false\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// on Dokku Server\r\ndokku config:set my-nuxt-app NPM_CONFIG_PRODUCTION=false YARN_PRODUCTION=false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Also, we want our application to listen on the host "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0.0.0.0"}]},{"type":"text","value":" and run in production mode:"}]},{"type":"element","tag":"code","props":{"code":"// on Dokku Server\r\ndokku config:set my-nuxt-app HOST=0.0.0.0 NODE_ENV=production\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// on Dokku Server\r\ndokku config:set my-nuxt-app HOST=0.0.0.0 NODE_ENV=production\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You should see these 3 lines when you type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dokku config my-nuxt-app"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"nuxt config vars Dokku","src":"https://i.imgur.com/9FNsaoQ.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then, we tell Dokku to launch "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" via the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"scripts.dokku.predeploy"}]},{"type":"text","value":" script in our project "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.json"}]},{"type":"text","value":":"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create a file name app.json in our project root folder"}]}]},{"type":"element","tag":"code","props":{"code":"{\r\n  \"scripts\": {\r\n    \"dokku\": {\r\n      \"predeploy\": \"npm run build\"\r\n    }\r\n  }\r\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n  \"scripts\": {\r\n    \"dokku\": {\r\n      \"predeploy\": \"npm run build\"\r\n    }\r\n  }\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To launch the application we run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run start"}]},{"type":"text","value":" using the "},{"type":"element","tag":"a","props":{"href":"http://dokku.viewdocs.io/dokku/deployment/methods/dockerfiles/#procfiles-and-multiple-processes","rel":["nofollow"]},"children":[{"type":"text","value":"Procfile"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"web: npm run start\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"web: npm run start\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, we can push our app on Dokku with:"}]},{"type":"element","tag":"code","props":{"code":"// commit your change before push.\r\ngit remote add dokku dokku@yourServer:my-nuxt-app\r\ngit push dokku master\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// commit your change before push.\r\ngit remote add dokku dokku@yourServer:my-nuxt-app\r\ngit push dokku master\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Voilà! Our Nuxt application is now hosted on Dokku!"}]}]},"template":"guide","target":"Server","category":"deployment","logo":{"light":"/img/companies/square/light/dokku.png","dark":"/img/companies/square/dark/dokku.png"},"_type":"markdown","_id":"content:deployments:folder2:dokku.md","_source":"content","_file":"deployments/folder2/dokku.md","_extension":"md"}]