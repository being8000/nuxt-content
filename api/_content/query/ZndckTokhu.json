[{"_path":"/deployments/folder2/azure-static-web-apps","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Azure Static Web Apps","description":"How to deploy a Nuxt application on Azure Static Web Apps?","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-on-azure-static-web-apps"},"children":[{"type":"text","value":"Deploy on Azure Static Web Apps"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to deploy a Nuxt application on Azure Static Web Apps?"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can deploy your static sites to Azure using Azure Static Web Apps. You will need to have your app in GitHub as Azure Static Web Apps leverages GitHub Actions which allow you to re-build your static site on every git push."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"b","props":{},"children":[{"type":"text","value":"New:"}]},{"type":"text","value":" You can now also deploy universally rendered Nuxt Bridge and Nuxt 3 sites on Azure Static Web Apps. Read the "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/deploy/providers/azure#azure-static-web-apps","rel":["nofollow"]},"children":[{"type":"text","value":"documentation here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are 2 things you need to configure in order to deploy your app to Azure static web apps. The first one is to modify the build command as Azure reads the build command from your package.json and for static sites we need to use the generate command."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"package.json"}]}]},{"type":"element","tag":"code","props":{"code":"build: \"nuxt generate\"\n","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"build: \"nuxt generate\"\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The second one is to add a routes.json file which is important for catching custom 404 pages and spa fallback pages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"static/routes.json"}]}]},{"type":"element","tag":"code","props":{"code":"{\r\n \"routes\": [],\r\n \"platformErrorOverrides\": [\r\n   {\r\n    \"errorType\": \"NotFound\",\r\n    \"serve\": \"/200.html\",\r\n    \"statusCode\": 200\r\n   }\r\n ]\r\n}\n","language":"jsx"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\r\n \"routes\": [],\r\n \"platformErrorOverrides\": [\r\n   {\r\n    \"errorType\": \"NotFound\",\r\n    \"serve\": \"/200.html\",\r\n    \"statusCode\": 200\r\n   }\r\n ]\r\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to test out deploying to Azure static web apps, we have created a small demo application that is all setup and configured. You will just need to clone it and add it to your GitHub repo. You can then follow the steps on - Deploying your app with Azure Static Web Apps."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/debs-obrien/nuxtjs-azure-static-app","rel":["nofollow"]},"children":[{"type":"text","value":"Clone the demo app"}]}]},{"type":"element","tag":"h2","props":{"id":"deploying-your-app-with-azure-static-web-apps"},"children":[{"type":"text","value":"Deploying your app with Azure Static Web Apps"}]},{"type":"element","tag":"h3","props":{"id":"step-1-create-azure-static-web-apps"},"children":[{"type":"text","value":"Step 1: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Create Azure static web apps"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Navigate to the "},{"type":"element","tag":"a","props":{"href":"https://portal.azure.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Azure Portal"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Create a Resource"}]},{"type":"text","value":" then search for "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Static App"}]},{"type":"text","value":" and select it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select a subscription from the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Subscription"}]},{"type":"text","value":" drop-down list or use the default one."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"New"}]},{"type":"text","value":" link below the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Resource group"}]},{"type":"text","value":" dropdown. In "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"New resource group name"}]},{"type":"text","value":", type "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"nuxt"}]},{"type":"text","value":" and click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"OK"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provide a globally unique name for your app in the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":" text box. Valid characters include "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"a-z"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"A-Z"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0-9"}]},{"type":"text","value":", and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-"}]},{"type":"text","value":". The app name is used to identify the app in your list of resources therefore it is a good idea to name your app using the name of your repository."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"In the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Region"}]},{"type":"text","value":" dropdown, choose a region closest to you."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Azure Portal resource and app setup","src":"https://user-images.githubusercontent.com/13063165/82118135-71891b00-9775-11ea-8284-aa94d17a3bc3.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"step-2-add-a-github-repository"},"children":[{"type":"text","value":"Step 2: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Add a GitHub repository"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Azure App Service Static App needs access to the repository where your Nuxt app lives so it can automatically deploy commits:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Sign in with GitHub button"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Organization"}]},{"type":"text","value":" under which you created the repo for your Nuxt project. It can also be your GitHub username."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Find the name of the repository you created earlier and select it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Choose "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"master"}]},{"type":"text","value":" as the branch from the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Branch"}]},{"type":"text","value":" dropdown."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"how to add github","src":"https://user-images.githubusercontent.com/13063165/82118359-38ea4100-9777-11ea-9c5e-7ba5c4da708e.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"step-3-configure-the-build-process"},"children":[{"type":"text","value":"Step 3: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Configure the build process"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are few things that Azure App Service Static App can assume - things like automatically installing npm modules and running "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":". There are also few you have to be explicit about, like what folder will the static app be copied to after build so the static site can be served from there."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click on the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" tab to configure the static output folder."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"dist"}]},{"type":"text","value":" in the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"App artifact location"}]},{"type":"text","value":" text box."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Azure portal configure build","src":"https://user-images.githubusercontent.com/13063165/82118277-71d5e600-9776-11ea-88ad-48cf0793905d.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"step-4-review-and-create"},"children":[{"type":"text","value":"Step 4: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Review and create"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Review + Create"}]},{"type":"text","value":" button to verify the details are all correct."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Create"}]},{"type":"text","value":" to start the creation of the resource and also provision a GitHub Action for deployment."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once the deployment is completed, click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Go to resource"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"azure portal deployment complete message","src":"https://user-images.githubusercontent.com/13063165/82118390-67681c00-9777-11ea-9778-671dc768393e.png"},"children":[]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On the resource screen, click the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":" link to open your deployed application."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"resource screen with url to your deployed app","src":"https://user-images.githubusercontent.com/13063165/82118042-d001c980-9774-11ea-94f5-57d995aa5391.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Congrats your static site is now hosted on Azure static web apps."}]},{"type":"element","tag":"h2","props":{"id":"rebuild-your-static-app-and-monitoring-deployment"},"children":[{"type":"text","value":"Rebuild your static app and monitoring deployment"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now all you have to do is modify your code and push your changes. Pushing your changes will activate a GitHub action and your new site will automatically rebuild. You can monitor the workflow by clicking on the actions tab in your GitHub repo and you can inspect even further by selecting the last commit you made. You can then watch to see when the deploy is finished or inspect the log if you have any deployment errors."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"GitHub actions screen","src":"https://user-images.githubusercontent.com/13063165/82118249-34715880-9776-11ea-92e2-dbd21bbf7cb6.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"did-you-know"},"children":[{"type":"text","value":"Did you know?"}]},{"type":"element","tag":"h3","props":{"id":"how-to-handle-dynamic-routes"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"How to handle dynamic routes"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you are working with dynamic pages such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_id.vue"}]},{"type":"text","value":" then you you will need to add these routes to the generate property in your nuxt config."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/configuration-glossary/configuration-generate#routes"},"children":[{"type":"text","value":"See the documentation on how to handle dynamic routes."}]}]},{"type":"element","tag":"div","props":{"className":["Alert"]},"children":[{"type":"text","value":"\nIf you are using Nuxt 2.13+ then you won't have to worry about this as there is a built in crawler which will crawl all dynamics by crawling the links in your site.\n"}]},{"type":"element","tag":"h3","props":{"id":"how-to-add-an-error-page"},"children":[{"type":"text","value":"How to add an error page"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to not have the default 404 page you can create an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error.vue"}]},{"type":"text","value":" file in your layouts folder."}]},{"type":"element","tag":"h3","props":{"id":"how-to-add-spa-fallback"},"children":[{"type":"text","value":"How to add SPA fallback"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you would like some pages to not be generated but act as a single page application you can do so using the generate.excludes property in your nuxt.config file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/configuration-glossary/configuration-generate#exclude"},"children":[{"type":"text","value":"See the documentation on spa fallback"}]}]}]},"template":"guide","target":"Static","category":"deployment","logo":{"light":"/img/companies/square/light/Azure.svg","dark":"/img/companies/square/dark/Azure.svg"},"_type":"markdown","_id":"content:deployments:folder2:azure-static-web-apps.md","_source":"content","_file":"deployments/folder2/azure-static-web-apps.md","_extension":"md"},{"_path":"/deployments/folder2/cleavr","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Cleavr","description":"How to deploy a Nuxt app with Cleavr?","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploy-nuxt-with-cleavr"},"children":[{"type":"text","value":"Deploy Nuxt with Cleavr"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"How to deploy a Nuxt app with Cleavr?"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cleavr.io","rel":["nofollow"]},"children":[{"type":"text","value":"Cleavr"}]},{"type":"text","value":" is a server management console that integrates with multiple VPS (cloud hosting) providers and helps you configure servers to host your Nuxt apps as well as deploys your Nuxt apps in just a couple of clicks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cleavr includes the following features:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provision and configure servers ready to run Nuxt SSR and Static applications"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Secure servers and provides free SSL certs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Deploy code from GitHub, GitLab, and Bitbucket repositories with zero-downtime"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Auto-installs and configures PM2 (with cluster mode enabled) for Nuxt SSR apps"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GitHub Actions integration to build app with no additional configuration required"}]}]},{"type":"element","tag":"h2","props":{"id":"prerequisites"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Your Cleavr account is connected to your VPS and version control (e.g. GitHub, GitLab, Bitbucket) providers"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You have a Nuxt SSR or Static project ready to deploy"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You have an existing provisioned server"}]}]},{"type":"element","tag":"h2","props":{"id":"step-1-initial-setup"},"children":[{"type":"text","value":"Step 1: Initial setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Cleavr, navigate to the server to add the new app to and select "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Add Site"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Select either "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt SSR"}]},{"type":"text","value":" or "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt Static"}]},{"type":"text","value":" web app type depending on which target you intend to deploy. Fill out the remaining website info and click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Add"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will add the site to your server and configure the server with any missing required environment dependencies."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once the site has been successfully added, go to the Web App section and navigate to settings > code repository for the web app that was added."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Fill in your version control provider, repository, and branch to deploy fields and then click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Update"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"step-2-deploy"},"children":[{"type":"text","value":"Step 2: Deploy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You're now ready to deploy your web app."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"On the web app's deployment page, click "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Deploy"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The deployment process will begin and complete in a few moments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.cleavr.io/guides/nuxt","rel":["nofollow"]},"children":[{"type":"text","value":"View the Cleavr documentation for more info."}]}]}]},"template":"guide","target":"Static & Server","category":"deployment","logo":{"light":"/img/companies/square/light/cleavr.svg","dark":"/img/companies/square/dark/cleavr.svg"},"_type":"markdown","_id":"content:deployments:folder2:cleavr.md","_source":"content","_file":"deployments/folder2/cleavr.md","_extension":"md"}]